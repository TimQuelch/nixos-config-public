From 3986b6f6a8df57d44a0b4587f3f619d0e645ec3c Mon Sep 17 00:00:00 2001
From: Tim Quelch <tim@tquelch.com>
Date: Fri, 14 Feb 2025 01:19:45 +1100
Subject: [PATCH] Update paths placeholders

---
 bin/bma                   | 2 +-
 scripts/build             | 2 +-
 scripts/build-completions | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/bin/bma b/bin/bma
index 6144842..26965ce 100755
--- a/bin/bma
+++ b/bin/bma
@@ -11,11 +11,11 @@
 #
 # Add it to your PATH or copy/link it to somewhere that is
 #
 # Assumes you have installed bash-my-aws to standard location
 
-for f in "${BMA_HOME:-$HOME/.bash-my-aws}"/lib/*-functions; do source $f; done
+for f in @out@/lib/*-functions; do source $f; done
 
 # Disable awcli client side pager
 #
 # AWS CLI version 2 provides the use of a client-side pager program for output.
 # By default, this feature returns all output through your operating systemâ€™s
diff --git a/scripts/build b/scripts/build
index 54a786b..37a05df 100755
--- a/scripts/build
+++ b/scripts/build
@@ -39,11 +39,11 @@ funcs_after_bma=$(compgen -A function)
 
 # Don't create alias for these functions
 exclusions=('region')
 
 for fnc in $(echo "${funcs_before_bma}" "${funcs_after_bma}" "${exclusions}" | tr ' ' '\n' | LC_ALL=C sort | uniq -u); do
-  echo "alias $fnc='\${BMA_HOME:-\$HOME/.bash-my-aws}/bin/bma $fnc'" >> "$aliases_destination"
+  echo "alias $fnc='@out@/.bash-my-aws}/bin/bma $fnc'" >> "$aliases_destination"
 done;
 
 
 # functions to clone
 fncs_to_clone=('region')
diff --git a/scripts/build-completions b/scripts/build-completions
index 2b5d49b..bf86af6 100755
--- a/scripts/build-completions
+++ b/scripts/build-completions
@@ -4,11 +4,11 @@ bma_path="$(cd "$(dirname "$0")/.." && pwd)"
 
 cat <<EOF
 # DO NOT MANUALLY MODIFY THIS FILE.
 # Use 'scripts/build' to regenerate if required.
 
-bma_path="\${BMA_HOME:-\$HOME/.bash-my-aws}"
+bma_path="@out@/.bash-my-aws}"
 EOF
 
 # load in all the completions from scripts/completions
 available_completions=($(
   find "$bma_path/scripts/completions" -type f -exec basename {} ';' |
-- 
2.47.2

